/**
 * @file UI NGL
 * @author Alexander Rose <alexander.rose@weirdbyte.de>
 */
// Color
var NGL = require("ngl");
var UI = require("./ui.extra.js").UI;
UI.ColorPopupMenu = function () {
    var scope = this;
    UI.Panel.call(this);
    this.iconText = new UI.Text('')
        .setCursor('pointer')
        .setClass('fa-stack-1x')
        .setFontFamily('Arial, sans-serif')
        .setColor('#111');
    this.iconSquare = new UI.Icon('square', 'stack-1x');
    // .setMarginTop( "0.05em" );
    this.menu = new UI.PopupMenu('stack', 'Color');
    this.menu.icon
        .setTitle('color')
        .setWidth('1em').setHeight('1em').setLineHeight('1em')
        .add(this.iconSquare)
        .add(this.iconText);
    var changeEvent = document.createEvent('Event');
    changeEvent.initEvent('change', true, true);
    this.colorInput = new UI.Input()
        .onChange(function () {
        scope.setColor(scope.colorInput.getValue());
        scope.dom.dispatchEvent(changeEvent);
    });
    this.colorPicker = new UI.ColorPicker()
        .setDisplay('inline-block')
        .onChange(function (e) {
        scope.setColor(scope.colorPicker.getValue());
        scope.dom.dispatchEvent(changeEvent);
    });
    this.menu
        .addEntry('Input', this.colorInput)
        .addEntry('Picker', this.colorPicker);
    this.add(this.menu);
    this.setClass('')
        .setDisplay('inline');
    return this;
};
UI.ColorPopupMenu.prototype = Object.create(UI.Panel.prototype);
UI.ColorPopupMenu.prototype.setColor = (function () {
    var c = new NGL.Color();
    return function (value) {
        c.set(value);
        value = '#' + c.getHexString();
        this.colorInput
            .setBackgroundColor(value)
            .setValue(value);
        this.colorPicker.setValue(value);
        this.iconSquare.setColor(value);
        // perceived brightness (http://alienryderflex.com/hsp.html)
        var brightness = Math.sqrt(c.r * 255 * c.r * 255 * 0.241 +
            c.g * 255 * c.g * 255 * 0.691 +
            c.b * 255 * c.b * 255 * 0.068);
        if (brightness > 130) {
            this.iconText.setColor('#000000');
            this.colorInput.setColor('#000000');
        }
        else {
            this.iconText.setColor('#FFFFFF');
            this.colorInput.setColor('#FFFFFF');
        }
        return this;
    };
}());
UI.ColorPopupMenu.prototype.getColor = function () {
    return this.colorInput.getValue();
};
UI.ColorPopupMenu.prototype.getValue = function () {
    return this.getColor();
};
UI.ColorPopupMenu.prototype.setValue = function (value) {
    this.setColor(value);
    return this;
};
UI.ColorPopupMenu.prototype.dispose = function () {
    this.menu.dispose();
    UI.Panel.prototype.dispose.call(this);
};
// Vector3
UI.Vector3 = function (value) {
    UI.Panel.call(this).setDisplay('inline-block');
    this.xNumber = new UI.Number(0).setWidth('40px');
    this.yNumber = new UI.Number(0).setWidth('40px');
    this.zNumber = new UI.Number(0).setWidth('40px');
    this.add(this.xNumber, this.yNumber, this.zNumber);
    this.setValue(value);
    var changeEvent = document.createEvent('Event');
    changeEvent.initEvent('change', true, true);
    this.xNumber.onChange(function () {
        this.dom.dispatchEvent(changeEvent);
    }.bind(this));
    this.yNumber.onChange(function () {
        this.dom.dispatchEvent(changeEvent);
    }.bind(this));
    this.zNumber.onChange(function () {
        this.dom.dispatchEvent(changeEvent);
    }.bind(this));
    return this;
};
UI.Vector3.prototype = Object.create(UI.Panel.prototype);
UI.Vector3.prototype.getValue = function () {
    return {
        x: this.xNumber.getValue(),
        y: this.yNumber.getValue(),
        z: this.zNumber.getValue()
    };
};
UI.Vector3.prototype.setValue = function (value) {
    if (value) {
        this.xNumber.setValue(value.x);
        this.yNumber.setValue(value.y);
        this.zNumber.setValue(value.z);
    }
    return this;
};
UI.Vector3.prototype.setPrecision = function (precision) {
    this.xNumber.setPrecision(precision);
    this.yNumber.setPrecision(precision);
    this.zNumber.setPrecision(precision);
    return this;
};
UI.Vector3.prototype.setRange = function (min, max) {
    this.xNumber.setRange(min, max);
    this.yNumber.setRange(min, max);
    this.zNumber.setRange(min, max);
    return this;
};
// Selection
UI.SelectionInput = function (selection) {
    UI.AdaptiveTextArea.call(this);
    this.setSpellcheck(false);
    if (!(selection.type === 'selection')) {
        NGL.error('UI.SelectionInput: not a selection', selection);
        return this;
    }
    this.setValue(selection.string);
    this.selection = selection;
    var scope = this;
    var signals = selection.signals;
    signals.stringChanged.add(function (string) {
        scope.setValue(string);
    });
    this.onEnter();
    return this;
};
UI.SelectionInput.prototype = Object.create(UI.AdaptiveTextArea.prototype);
UI.SelectionInput.prototype.setValue = function (value) {
    UI.AdaptiveTextArea.prototype.setValue.call(this, value);
    return this;
};
UI.SelectionInput.prototype.onEnter = function (callback) {
    // TODO more a private method
    var scope = this;
    var check = function (string) {
        var selection = new NGL.Selection(string);
        return !selection.selection['error'];
    };
    this.onKeyPress(function (e) {
        var value = scope.getValue();
        var character = String.fromCharCode(e.which);
        if (e.keyCode === 13) {
            e.preventDefault();
            if (check(value)) {
                if (typeof callback === 'function') {
                    callback(value);
                }
                else {
                    scope.selection.setString(value);
                }
                scope.setBackgroundColor('white');
            }
            else {
                scope.setBackgroundColor('tomato');
            }
        }
        else if (scope.selection.string !== value + character) {
            scope.setBackgroundColor('skyblue');
        }
        else {
            scope.setBackgroundColor('white');
        }
    });
    this.onKeyUp(function (e) {
        var value = scope.getValue();
        if (!check(value)) {
            scope.setBackgroundColor('tomato');
        }
        else if (scope.selection.string === scope.getValue()) {
            scope.setBackgroundColor('white');
        }
        else {
            scope.setBackgroundColor('skyblue');
        }
    });
    return this;
};
UI.SelectionPanel = function (selection) {
    UI.Panel.call(this);
    this.icon = new UI.Icon('filter')
        .setTitle('filter selection')
        .addClass('lg')
        .setMarginRight('10px');
    this.input = new UI.SelectionInput(selection);
    this.add(this.icon, this.input);
    return this;
};
UI.SelectionPanel.prototype = Object.create(UI.Panel.prototype);
UI.SelectionPanel.prototype.setInputWidth = function (value) {
    this.input.setWidth(value);
    return this;
};
// Component
UI.ComponentPanel = function (component) {
    UI.Panel.call(this);
    var stage = component.stage;
    var signals = component.signals;
    signals.nameChanged.add(function (value) {
        name.setValue(value);
    });
    signals.visibilityChanged.add(function (value) {
        toggle.setValue(value);
    });
    signals.disposed.add(function () {
        menu.dispose();
    });
    // Name
    var name = new UI.EllipsisText(component.name)
        .setWidth('100px');
    // Actions
    var toggle = new UI.ToggleIcon(component.visible, 'eye', 'eye-slash')
        .setTitle('hide/show')
        .setCursor('pointer')
        .setMarginLeft('25px')
        .onClick(function () {
        component.setVisibility(!component.visible);
    });
    var center = new UI.Icon('bullseye')
        .setTitle('center')
        .setCursor('pointer')
        .setMarginLeft('10px')
        .onClick(function () {
        component.autoView(1000);
    });
    var dispose = new UI.DisposeIcon()
        .setMarginLeft('10px')
        .setDisposeFunction(function () {
        stage.removeComponent(component);
    });
    // Menu
    var menu = new UI.PopupMenu('bars', component.type)
        .setMarginLeft('46px')
        .setEntryLabelWidth('110px');
    //
    this.add(name, toggle, center, dispose, menu);
    //
    this.menu = menu;
    return this;
};
UI.ComponentPanel.prototype = Object.create(UI.Panel.prototype);
UI.ComponentPanel.prototype.addMenuEntry = function (label, entry) {
    this.menu.addEntry(label, entry);
    return this;
};
UI.ComponentPanel.prototype.setMenuDisplay = function (value) {
    this.menu.setMenuDisplay(value);
    return this;
};
module.exports = {
    "UI": UI
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWkubmdsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VpL3VpLm5nbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFFSCxRQUFRO0FBRVIsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFckMsRUFBRSxDQUFDLGNBQWMsR0FBRztJQUNsQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUE7SUFFaEIsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7SUFFbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQzVCLFNBQVMsQ0FBQyxTQUFTLENBQUM7U0FDcEIsUUFBUSxDQUFDLGFBQWEsQ0FBQztTQUN2QixhQUFhLENBQUMsbUJBQW1CLENBQUM7U0FDbEMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBRW5CLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQTtJQUNuRCw2QkFBNkI7SUFFN0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBRTlDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSTtTQUNYLFFBQVEsQ0FBQyxPQUFPLENBQUM7U0FDakIsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO1NBQ3JELEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1NBQ3BCLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7SUFFckIsSUFBSSxXQUFX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QUc7SUFDOUIsT0FBTztRQUNMLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRTtRQUMxQixDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7UUFDMUIsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFO0tBQzNCLENBQUE7QUFDSCxDQUFDLENBQUE7QUFFRCxFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxLQUFLO0lBQzdDLElBQUksS0FBSyxFQUFFO1FBQ1QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7S0FDL0I7SUFFRCxPQUFPLElBQUksQ0FBQTtBQUNiLENBQUMsQ0FBQTtBQUVELEVBQUUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxVQUFVLFNBQVM7SUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7SUFFcEMsT0FBTyxJQUFJLENBQUE7QUFDYixDQUFDLENBQUE7QUFFRCxFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxHQUFHLEVBQUUsR0FBRztJQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0lBQy9CLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUUvQixPQUFPLElBQUksQ0FBQTtBQUNiLENBQUMsQ0FBQTtBQUVELFlBQVk7QUFFWixFQUFFLENBQUMsY0FBYyxHQUFHLFVBQVUsU0FBUztJQUNyQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0lBRTlCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUE7SUFFekIsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksS0FBSyxXQUFXLENBQUMsRUFBRTtRQUNyQyxHQUFHLENBQUMsS0FBSyxDQUFDLG9DQUFvQyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1FBRTFELE9BQU8sSUFBSSxDQUFBO0tBQ1o7SUFFRCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUUvQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQTtJQUUxQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUE7SUFFaEIsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQTtJQUUvQixPQUFPLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxVQUFVLE1BQU07UUFDeEMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUN4QixDQUFDLENBQUMsQ0FBQTtJQUVGLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUVkLE9BQU8sSUFBSSxDQUFBO0FBQ2IsQ0FBQyxDQUFBO0FBRUQsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUE7QUFFMUUsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsS0FBSztJQUNwRCxFQUFFLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBRXhELE9BQU8sSUFBSSxDQUFBO0FBQ2IsQ0FBQyxDQUFBO0FBRUQsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVUsUUFBUTtJQUN0RCw2QkFBNkI7SUFFN0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFBO0lBRWhCLElBQUksS0FBSyxHQUFHLFVBQVUsTUFBTTtRQUMxQixJQUFJLFNBQVMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7UUFFekMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUUsT0FBTyxDQUFFLENBQUE7SUFDeEMsQ0FBQyxDQUFBO0lBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUM7UUFDekIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFBO1FBQzVCLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBRTVDLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxFQUFFLEVBQUU7WUFDcEIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFBO1lBRWxCLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNoQixJQUFJLE9BQU8sUUFBUSxLQUFLLFVBQVUsRUFBRTtvQkFDbEMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO2lCQUNoQjtxQkFBTTtvQkFDTCxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtpQkFDakM7Z0JBRUQsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFBO2FBQ2xDO2lCQUFNO2dCQUNMLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQTthQUNuQztTQUNGO2FBQU0sSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxLQUFLLEdBQUcsU0FBUyxFQUFFO1lBQ3ZELEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQTtTQUNwQzthQUFNO1lBQ0wsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ2xDO0lBQ0gsQ0FBQyxDQUFDLENBQUE7SUFFRixJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUE7UUFFNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNqQixLQUFLLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUE7U0FDbkM7YUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUN0RCxLQUFLLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDbEM7YUFBTTtZQUNMLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQTtTQUNwQztJQUNILENBQUMsQ0FBQyxDQUFBO0lBRUYsT0FBTyxJQUFJLENBQUE7QUFDYixDQUFDLENBQUE7QUFFRCxFQUFFLENBQUMsY0FBYyxHQUFHLFVBQVUsU0FBUztJQUNyQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUVuQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7U0FDOUIsUUFBUSxDQUFDLGtCQUFrQixDQUFDO1NBQzVCLFFBQVEsQ0FBQyxJQUFJLENBQUM7U0FDZCxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUE7SUFFekIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUE7SUFFN0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUUvQixPQUFPLElBQUksQ0FBQTtBQUNiLENBQUMsQ0FBQTtBQUVELEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUUvRCxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsVUFBVSxLQUFLO0lBQ3pELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBRTFCLE9BQU8sSUFBSSxDQUFBO0FBQ2IsQ0FBQyxDQUFBO0FBRUQsWUFBWTtBQUVaLEVBQUUsQ0FBQyxjQUFjLEdBQUcsVUFBVSxTQUFTO0lBQ3JDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0lBRW5CLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUE7SUFDM0IsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQTtJQUUvQixPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUs7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVGLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsVUFBVSxLQUFLO1FBQzNDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDeEIsQ0FBQyxDQUFDLENBQUE7SUFFRixPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDaEIsQ0FBQyxDQUFDLENBQUE7SUFFRixPQUFPO0lBRVAsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7U0FDM0MsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBRWxCLFVBQVU7SUFFWixJQUFJLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDO1NBQ2xFLFFBQVEsQ0FBQyxXQUFXLENBQUM7U0FDckIsU0FBUyxDQUFDLFNBQVMsQ0FBQztTQUNwQixhQUFhLENBQUMsTUFBTSxDQUFDO1NBQ3JCLE9BQU8sQ0FBQztRQUNQLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDN0MsQ0FBQyxDQUFDLENBQUE7SUFFSixJQUFJLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1NBQ2pDLFFBQVEsQ0FBQyxRQUFRLENBQUM7U0FDbEIsU0FBUyxDQUFDLFNBQVMsQ0FBQztTQUNwQixhQUFhLENBQUMsTUFBTSxDQUFDO1NBQ3JCLE9BQU8sQ0FBQztRQUNQLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDMUIsQ0FBQyxDQUFDLENBQUE7SUFFSixJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7U0FDL0IsYUFBYSxDQUFDLE1BQU0sQ0FBQztTQUNyQixrQkFBa0IsQ0FBQztRQUNsQixLQUFLLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ2xDLENBQUMsQ0FBQyxDQUFBO0lBRUYsT0FBTztJQUVULElBQUksSUFBSSxHQUFHLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQztTQUNoRCxhQUFhLENBQUMsTUFBTSxDQUFDO1NBQ3JCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBRTVCLEVBQUU7SUFFSixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUU3QyxFQUFFO0lBRUYsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUE7SUFFaEIsT0FBTyxJQUFJLENBQUE7QUFDYixDQUFDLENBQUE7QUFFRCxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUE7QUFFL0QsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFVBQVUsS0FBSyxFQUFFLEtBQUs7SUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBRWhDLE9BQU8sSUFBSSxDQUFBO0FBQ2IsQ0FBQyxDQUFBO0FBRUQsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLFVBQVUsS0FBSztJQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUUvQixPQUFPLElBQUksQ0FBQTtBQUNiLENBQUMsQ0FBQTtBQUdELE1BQU0sQ0FBQyxPQUFPLEdBQUc7SUFDYixJQUFJLEVBQUUsRUFBRTtDQUNYLENBQUEifQ==